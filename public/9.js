(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{bpux:function(t,e,n){"use strict";n.r(e);function r(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function a(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?r(Object(n),!0).forEach((function(e){o(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var s={name:"PaymentComponent",props:{_routeRegisterPayment:{type:String},_routeDataPayment:{type:String},_userId:{type:String},_routePurchases:{type:String},_addressId:{type:String},_total:{type:Number}},data:function(){return{freightOptionRadio:$(".freightOption"),freightOption:1,total:parseFloat(this._total)}},watch:{freightOptionRadio:function(t){this.freightOption=1}},methods:{paymentProcess:function(){var t=this;return this.dataPayment().then((function(e){console.log(e.data);var n=parseInt(100*e.data.amount);new PagarMeCheckout.Checkout({encryption_key:"",success:function(n){t.registerPayment(e.data.sale_id,e.data.amount,n)},error:function(t){console.log(t)},close:function(){console.log("The modal has been closed.")}}).open(a({amount:n,capture:!0,maxInstallments:10,freeInstallments:10,buttonText:"Pagar",buttonClass:"botao-pagamento",customerData:"true",createToken:"true",card_hash:"",uiColor:"#f54d15"},e.data.customer,{items:e.data.items}))})).catch((function(t){console.log(t)})),t.total},dataPayment:function(){var t=this;return new Promise((function(e,n){$.ajax({url:t._routeDataPayment,headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")},type:"POST",data:{freight:t.freightOption,address_id:t._addressId,user_id:t._userId},success:function(t){e(t)},error:function(t){n(t)}})}))},registerPayment:function(t,e,n){var r=this;console.log("entrou ali",e),r.$loading(!0),$.ajax({url:r._routeRegisterPayment,type:"POST",data:a({sale_id:t,amount:e},n),success:function(t){r.$loading(!1),console.log("vai redirecionar",r._routePurchases),window.location.href=r._routePurchases},error:function(t){r.$loading(!1),$("#errors_payment").text(t.message)}})}},mounted:function(){console.log(77777,this._userId)}},i=n("KHd+"),c=Object(i.a)(s,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("small",{staticClass:"text-danger",attrs:{id:"errors_payment"}}),this._v(" "),e("button",{staticClass:"btn btn-block btn-dark d-flex align-items-center justify-content-between px-4 py-3",attrs:{id:"pay-button",type:"buttom"},on:{click:this.paymentProcess}},[e("i",{staticClass:"fa fa-credit-card mr-2"}),this._v(" Processar pagamento "),e("i",{staticClass:"far fa-arrow-right ml-auto"})])])}),[],!1,null,"6360ee72",null);e.default=c.exports}}]);
//# sourceMappingURL=9.js.map